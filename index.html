<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Beatrix</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon"
        href="https://gossip-themes.com/beatrix-html/preview/assets/media/favicon.png">
    <!-- Vendors CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
    <!-- Site Stylesheet -->
    <link rel="stylesheet" href="css/home.css">
    <style>
        .adx {
            padding-right: 0;
            padding-left: 0;
            margin-top: 15px;
            margin-bottom: 55px;
        }

        .cnt {
            padding-right: 0;
            padding-left: 0;
        }

        .title-block {
            margin-bottom: 2rem;
            text-align: center;
        }
    </style>
</head>

<body>
    <div>
        <header>
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-2">
                        <div class="logo theme-logo">
                            <a href="index.html"><img
                                    src="https://gossip-themes.com/beatrix-html/preview/assets/media/logo.svg" alt="Logo"></a>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="nav-menu-wrapper">
                            <div class="mainmenu">
                                <nav class="nav-main-wrap">
                                    <ul class="theme-navigation-wrap theme-main-menu">
                                        <li><a href="index.html">Home</a></li>
                                        <li><a href="blog-category.html">Fashion</a></li>
                                        <li><a href="blog-category.html">Lifestyle</a></li>
                                        <li><a href="blog-category.html">Travel</a></li>
                                        <li><a href="contact.html">Contact</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="header-right-wrapper">
                            <div class="header_search_wrap">
                                <div class="search-icon theme-search-custom-iconn">
                                    <i class="icofont-search-1"></i>
                                </div>
                                <div id="theme-serach-box_Inner">
                                    <div class="theme-serach-box_inner_wrapper d-flex align-items-center">
                                        <form role="search" method="get" id="searchform" class="search-form" action="#">
                                            <div class="form-group">
                                                <input type="text" class="search-input" id="popup-search" value=""
                                                    name="s" placeholder="Type keywords here....." />
                                            </div>
                                            <button type="submit" id="serach-popup-btn-box"
                                                class="search-button submit-btn"><i
                                                    class="icofont-search-1"></i></button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="header-subscribe">
                                <a href="javascript:void(0)" class="subscribe-btn">Subscribe</a>
                            </div>
                            <div class="header-burger-menu">
                                <div class="burger-nav-bar">
                                    <a class="tp-header__bars tp-menu-bar" href="javascript:void(0)">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                                            height="24" fill="#fff">
                                            <path d="M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"></path>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- tp-offcanvus-area-start -->
        <div class="tp-offcanvas-area">
            <div class="tpoffcanvas">
                <div class="tpoffcanvas__close-btn">
                    <button class="close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32" fill="#fff">
                            <path
                                d="M10.5859 12L2.79297 4.20706L4.20718 2.79285L12.0001 10.5857L19.793 2.79285L21.2072 4.20706L13.4143 12L21.2072 19.7928L19.793 21.2071L12.0001 13.4142L4.20718 21.2071L2.79297 19.7928L10.5859 12Z">
                            </path>
                        </svg>
                    </button>
                </div>
                <div class="tpoffcanvas__logo offcanvas-logo">
                    <a href="index.html">
                        <img src="https://gossip-themes.com/beatrix-html/preview/assets/media/logo.svg" alt="Logo">
                    </a>
                </div>
                <div class="tpoffcanvas__text offcanvas-content">
                    <div class="mobile-canvas-content">
                        <div class="canvas-nav-menu-wrapper">
                            <ul class="site-nav-wrap">
                                <li><a href="#">Home</a></li>
                                <li><a href="Features.html">Features</a></li>
                                <li><a href="blog-category.html">Fashion</a></li>
                                <li><a href="blog-category.html">Lifestyle</a></li>
                                <li><a href="blog-category.html">Travel</a></li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="body-overlay"></div>

        <section class="mt-30">
            <div class="container">
                <div id="hero" class="row">
                </div>
        </section>

        <section id="ax" class="adx d-none">
            <div class="container" style="padding: 0;">
                <div class="row">
                    <div class="col-lg-12" style="padding: 0;">
                        <div class="ads-image">
                            <a href="post-single.html">
                                <img src="https://gossip-themes.com/beatrix-html/preview/assets/media/ads-full.png"
                                    alt="Ads">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-35">
            <div class="container">
                <h2 class="title-block mb-5">
                    Popular Posts
                </h2>
                <div id="article" class="row"></div>
            </div>
        </section>

        <footer class="theme-footer-area">
            <div class="footer-top pt-80 pb-70">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3">
                            <div class="footer-widget widget">
                                <div class="footer-logo">
                                    <a href="index.html"><img
                                            src="https://gossip-themes.com/beatrix-html/preview/assets/media/logo.svg"
                                            alt="Logo"></a>
                                </div>
                                <p>The stars will never align, and the traffic lights of life will never all be green at
                                    the same time.The stars will never align, and the traffic lights.</p>
                                <div class="footer-social">
                                    <a href="#"><i class="icofont-facebook"></i></a>
                                    <a href="#"><i class="icofont-twitter"></i></a>
                                    <a href="#"><i class="icofont-instagram"></i></a>
                                    <a href="#"><i class="icofont-linkedin"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="footer-widget widget widget-nav-menu ml-70">
                                <h4 class="widget-title">Resources</h4>
                                <ul class="menu">
                                    <li><a href="javascript:void(0)">Whatâ€™s New</a></li>
                                    <li><a href="javascript:void(0)">Developers</a></li>
                                    <li><a href="javascript:void(0)">Releases</a></li>
                                    <li><a href="javascript:void(0)">Support</a></li>
                                    <li><a href="javascript:void(0)">Cookie Policy</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="footer-widget widget widget-nav-menu">
                                <h4 class="widget-title">Useful Links</h4>
                                <ul class="menu">
                                    <li><a href="javascript:void(0)">Whatâ€™s New</a></li>
                                    <li><a href="javascript:void(0)">Developers</a></li>
                                    <li><a href="javascript:void(0)">Releases</a></li>
                                    <li><a href="javascript:void(0)">Support</a></li>
                                    <li><a href="javascript:void(0)">Cookie Policy</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="footer-widget widget widget-newsletter ml-30">
                                <h4 class="widget-title">Subscribe Now</h4>
                                <div class="footer-newsletter-wrapper">
                                    <form action="https://gossip-themes.com/beatrix-html/preview/newsletter.php"
                                        method="post">
                                        <input type="email" placeholder="your@email.com" name="email" id="footer-email">
                                        <input type="submit" value="" id="footer-submit">
                                        <label class="custom-label">I have read and accept the Terms & Policy
                                            <input type="checkbox">
                                            <span class="checkmark"></span>
                                        </label>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-divider"></div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="copyright-text">
                                <p>Copyright Â© Beatrix 2023. All rights reserved</p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="footer-menu">
                                <ul class="footer-nav">
                                    <li><a href="javascript:void(0)">Privacy Policy</a></li>
                                    <li><a href="javascript:void(0)">Terms of Use</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script>document.addEventListener("DOMContentLoaded", function () { "use strict"; function s(e) { e.classList.toggle("opened"), document.querySelector(".body-overlay").classList.toggle("apply") } document.querySelector(".tp-menu-bar").addEventListener("click", function () { s(document.querySelector(".tpoffcanvas")) }), document.querySelector(".close-btn").addEventListener("click", function () { s(document.querySelector(".tpoffcanvas")) }), document.querySelector(".body-overlay").addEventListener("click", function () { s(document.querySelector(".tpoffcanvas")) }) }); </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const dataUrl = 'api/data.json';
            let data = [];
            let currentIndex = 4;
            const postsPerLoad = 12;
            let adVisible = true;

            const ax = document.querySelector('#ax');
            if (adVisible) ax.classList.remove('d-none');

            const formatDate = (timestamp) => {
                const date = new Date(timestamp * 1000);
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                return `${month}-${day}-${year}`;
            };

            function formatTitle(title) {
                return title.toLowerCase()
                    .replace(/[^a-z0-9 ]/g, '')
                    .replace(/ /g, '-')
                    .replace(/--/g, '-');
            }

            const createPostHtml = (post, colClass) => {
                const [title, category, description, image, author, timestamp] = post;
                const date = formatDate(timestamp);
                const slug = formatTitle(title);

                return `
                    <div class="${colClass}">
                        <article class="post-block-style-wrapper post-block-template-one post-block-template-medium mb-40">
                            <div class="post-block-style-inner">
                                <div class="post-block-media-wrap">
                                    <a href="${category}/${slug}">
                                        <img src="${image}" alt="${title}">
                                    </a>
                                </div>
                                <div class="post-block-content-wrap">
                                    <div class="post-item-title">
                                        <h2 class="post-title">
                                            <a href="${category}/${slug}">${title}</a>
                                        </h2>
                                    </div>
                                    <div class="post-excerpt-box">
                                        <p>${description}</p>
                                    </div>
                                    <div class="post-bottom-meta-list">
                                        <div class="post-meta-author-box">
                                            By <a href="javascript:void(0)">${author}</a>
                                        </div>
                                        <div class="post-meta-date-box">
                                            ${date}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                `;
            };

            const createAdHtml = () => {
                if (!adVisible) return '';

                return `
                <section class="adx">
                    <div class="container" style="padding: 0;">
                        <div class="row">
                            <div class="col-lg-12" style="padding: 0;">
                                <div class="ads-image">
                                    <a href="post-single.html">
                                        <img src="https://gossip-themes.com/beatrix-html/preview/assets/media/ads-full.png">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;
            };

            const loadMorePosts = () => {
                const articleElement = document.getElementById('article');
                let articleHtml = '';

                const end = Math.min(currentIndex + postsPerLoad, data.length);
                for (let i = currentIndex; i < end; i++) {
                    if ((i - 4) % postsPerLoad === 0 && i > 4) {
                        articleHtml += createAdHtml();
                    }
                    articleHtml += createPostHtml(data[i], 'col-lg-4');
                }
                currentIndex = end;

                articleElement.innerHTML += articleHtml;
                if (currentIndex < data.length) {
                    observeLastElement();
                }
            };

            const populateInitialData = () => {
                const heroElement = document.getElementById('hero');
                const articleElement = document.getElementById('article');
                let articleHtml = '';

                data.slice(0, 4).forEach(post => {
                    heroElement.innerHTML += createPostHtml(post, 'col-lg-6');
                });

                const end = Math.min(currentIndex + postsPerLoad, data.length);
                for (let i = currentIndex; i < end; i++) {
                    if ((i - 4) % postsPerLoad === 0 && i > 4) {
                        articleHtml += createAdHtml();
                    }
                    articleHtml += createPostHtml(data[i], 'col-lg-4');
                }
                currentIndex = end;

                articleElement.innerHTML = articleHtml;
                observeLastElement();
            };

            const observeLastElement = () => {
                const articleElement = document.getElementById('article');
                const lastElement = articleElement.lastElementChild;
                if (lastElement) {
                    observer.observe(lastElement);
                }
            };

            const observer = new IntersectionObserver(entries => {
                if (entries[0].isIntersecting) {
                    observer.unobserve(entries[0].target);
                    loadMorePosts();
                }
            }, {
                rootMargin: '100px'
            });

            fetch(dataUrl)
                .then(response => response.json())
                .then(fetchedData => {
                    data = fetchedData;
                    populateInitialData();
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        });
    </script>
</body>

</html>